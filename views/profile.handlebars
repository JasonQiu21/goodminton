<!--
    Data:
        owner: boolean
        username: string
        singleRating: number
        doubleRating: number

-->

<section>
    <div class = "profilePage">
        {{#if owner}}
            <form id = "profileForm">
                <div class = "formItem">
                    <label class = "formTitle" for="playerName">Player Name</label>
                    <input class = "formInput" type="text" id="playerName" name="playerName" placeholder="{{player.playerName}}">
                    <button class = "profileChangeButton" id = "playerNameChangeButton">Change</button>     
                </div> 
                <div class = "formItem">
                    <label class = "formTitle" for="email">Email</label>
                    <input class = "formInput" type="text" id="email" name="email" placeholder="{{player.email}}">
                    <button class = "profileChangeButton" id = "emailChangeButton">Change</button>      
                </div>
                <div class = "formItem">
                    <label class = "formTitle" for="password">Password</label>
                    <input class = "formInput" type="password" id="password" name="password" placeholder="********">
                </div>
                <div class = "formItem">
                    <label class = "formTitle" for="confirmPassword">Confirm Password</label>
                    <input class = "formInput" type="password" id="confirmPassword" name="confirmPassword" placeholder="********">
                    <button class = "profileChangeButton" id = "passwordChangeButton">Change</button>      
                </div>
                <div class = "formItem">
                    <label class = "formTitle" for="phone">Phone Number</label>
                    <input class = "formInput" type="text" id="phone" name="phone" placeholder="{{player.phone}}">
                    <button class = "profileChangeButton" id = "phoneChangeButton">Change</button>      
                </div>
                <p id = "error" class="error"></p>
                <p id = "success" class="success"></p>
            </form>
            <div class = "profileRating">
            <div class = "ratingBox">
                <h3>Single Rating</h3>
                <p id = "singlesRatingText">{{player.singlesRating}}</p>
            </div>
            <div class = "ratingBox">
                <h3>Double Rating</h3>
                <p id = "doublesRatingText">{{player.doublesRating}}</p>
            </div>
        </div>
        
        {{else}}
            <div class = "profileInfo">
                <h1>Profile</h1>
                <h3>Username: </h3>
                <p>{{player.playerName}}</p>
                <h3>Phone Number:</h3>
                <p>{{player.phone}}</p>
                <h3>Email: </h3>
                <p>{{player.email}}</p>
            </div>
            <div class = "profileRating">
                <div class = "ratingBox">
                    <h3>Single Rating</h3>
                    <p>{{player.singlesRating}}</p>
                </div>
                <div class = "ratingBox">
                    <h3>Double Rating</h3>
                    <p>{{player.doublesRating}}</p>
                </div>
            </div>
        {{/if}}


        <div class="matchHistory">
            <h1>Match History</h1>
            <table>
                <tr>
                    <th>Event</th>
                    <th>Match Time</th>
                    <th>Team 1</th>
                    <th>Team 1 Score</th>
                    <th>Team 2</th>
                    <th>Team 2 Score</th>
                </tr>
                {{#each matches}}
                    <tr class="winner-{{this.didWin}}">
                        <td>{{this.eventName}}</td>
                        <td>{{eventTime}}</td>
                        <td>{{team1}}</td>
                        <td>{{team1Score}}</td>
                        <td>{{team2}}</td>
                        <td>{{team2Score}}</td>
                    </tr>
                {{/each}}
            </table>


        <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
        <script src = "../public/js/profile_update.js"></script>
    </div>
</section>